# Renderer

Compile an Element or an AST into CSS.

## Usage

Pretty print css

```php
use \TBela\CSS\Parser;
use \TBela\CSS\Renderer;

$renderer = new Renderer();
$parser = new Parser('body {
    border: 0px;
    color: rgba(100, 100, 100, .8);
    }');

echo $renderer->renderAst($parser->getAst());

// or much slower
echo $renderer->render($parser->parse());
```

Result

```css
body {
  border: 0;
  color: rgba(100, 100, 100, 0.8);
}
```

Produce minified output

```php
$renderer->setOptions(['compress' => true, 'convert_color' => 'hex']);
$ast = $parser->getAst();

echo $renderer->renderAst($ast);
```

Result

```css
body {border: 0;color: #646464cc;}
```

Load AST from a json file

```php

// or if you use Parser
// file_put_contents('ast.json', $parser->parse());

// ...
$ast = json_decode(file_get_contents('ast.json'));

// or
$renderer->setOptions(['compress' => true, 'convert_color' => 'hex']);
$renderer->renderAst($ast);
```

Load a css string

```php

$parser->setContent('body { border: 0px; }');

echo $renderer->renderAst($parser->getAst());
```

## Renderer Options

### sourcemap

_bool_. generate sourcemap when the method _save_ is called

### indent

_string_. The string used to indent lines. The default value is the space char ' '

### glue

_string_. The string used as line separator. The default value is "\n"

### separator

_string_. The character used to tokens. The default value is the space char ' '

### charset

_boolean_. If false then remove @charset declaration. The default value is _false_

### convert_color

_boolean | string_ Convert colors to a format between _hex_, _hsl_, _rgb_, _hwb_ and _device-cmyk_. if set to false then no conversion is performed. default to _hex_.
if you want to convert hsla and rgba like colors to hex, to must set css_level to 4 otherwise they will be converted to rgba

### compress

_boolean_. If true then compress the css. If false then pretty print the css. The default value is _false_

### css_level

_int_. Support features specific to the specified CSS level. Setting the value 3 will output colors using CSS3 format. The default value _4_ will use CSS4 color format

### preserve_license

_boolean_. Preserve comments that start with '/*!'

### remove_comments

_boolean_. If true then remove comments. When compress is set to true then comments are always removed. The default value is _false_

### remove_empty_nodes

_boolean_. If true then remove empty css rules and media queries. The default value is _true_

### allow_duplicate_declarations

_boolean_|_string_|_array_. If false then duplicated declarations are removed. if it is set to a string or and array, only the specified properties duplicates are allowed. The default value is _\['background-image'\]_

### compute_shorthand

_boolean_. compute shorthand properties. default true

### legacy_rendering

_boolean_. convert nesting css. default false

## Renderer Methods

### Constructor

Constructor

#### Parameters

- \$options: _array_. see [renderer options](#renderer-options)

### Render

Render an Element instance into css

#### Parameters

- Element \$element the node to render
- int|null \$level = null initial indention level
- bool \$parent = false render parent nodes

#### Return type

_string_.

### RenderAst

Render ast into css

#### Parameters

- object \$element the ast node to render
- int|null \$level = null initial indention level
- bool \$parent = false render parent nodes

#### Return type

_string_.

### Save

Render ast into css and save it into a file. 
If the option _sourcemap_ is set to true, the sourcemap file will be generated.

#### Parameters

- object|Element \$ast an ast node or an Element instance
- string \$file the file name

#### Return type

_Renderer_.

#### Throws

IOException

### SetOptions

Configure the renderer options.

#### Parameters

- \$options: _array_. see [renderer options](#renderer-options)

#### Return type

\TBela\CSS\Rendered instance

### GetOptions

#### Parameters

- \$name: _string|null_. if name is null, return all the options, otherwise return the option with the specified name
- \$default: _mixed_, default value to return if the option is not set or it is null

#### Return type

\TBela\CSS\Rendered instance

The renderer documentation automatically generated by phpdoc can be found [here](https://htmlpreview.github.io/?https://raw.githubusercontent.com/tbela99/css/master/docs/api/html/index.html)
